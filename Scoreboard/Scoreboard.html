<head>
    <link rel="stylesheet" href="app.css">
</head>
<div class="scoreboard">
    <div class="teams">
        <div class="team1 team">
            <span id="team1-name"></span>
        </div>
        <div class="scores">
            <div class="team1-score score">
                <span id="team1-score">0</span>
            </div>
            <div class="team2-score score">
                <span id="team2-score">0</span>
            </div>
        </div>
        <div class="team2 team">
            <span id="team2-name"></span>
        </div>
    </div>
    <div class="time">
        <span id="time">00:00</span>
    </div>
</div>
<script>
    const ws = new WebSocket('ws://localhost:8080');

    ws.onmessage = async (event) => {
        let message;
        if (event.data instanceof Blob) {
            const text = await event.data.text();
            message = JSON.parse(text);
        } else {
            message = JSON.parse(event.data);
        }

        switch (message.type) {
            case 'team1-name':
                document.getElementById('team1-name').textContent = message.value;
                break;
            case 'team2-name':
                document.getElementById('team2-name').textContent = message.value;
                break;
            case 'team1-score':
                document.getElementById('team1-score').textContent = message.value;
                break;
            case 'team2-score':
                document.getElementById('team2-score').textContent = message.value;
                break;
            case 'time':
                document.getElementById('time').textContent = message.value;
                break;
            case 'team1-color':
                document.documentElement.style.setProperty('--team1-color', message.value);
                break;
            case 'team2-color':
                document.documentElement.style.setProperty('--team2-color', message.value);
                break;

        }
    };

</script>